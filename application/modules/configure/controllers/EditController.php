<?phpclass Configure_EditController extends Zend_Controller_Action{    public function init()    {        $this->_helper->layout->setLayout('index');        $this->view->headTitle()            ->setSeparator(' - ')            ->prepend('Editar Usuarios');    }    public function indexAction()    {        $qry                 = new Configure_Model_Queries();        $this->view->rows    = $qry->usersQry();        $this->view->message = nl2br(implode(PHP_EOL, $this->_helper->FlashMessenger->getMessages()));    }    public function editAction()    {        $usersId = $this->getRequest()->getQuery('users_id');        $qry     = new Configure_Model_Queries();        $qry->setParams( array( 'users_id' => $usersId, ));        /**         * Verify if can see info         */        if( ($row = $qry->editUsersQry()) !== false ){            unset($row['pwd']);            $form             = new Configure_Form_ConfigureUsersEdit();            $form->setAction($this->view->url(array(), 'configure-edit-edit') . "?users_id=$usersId");            $this->view->form = $form;            $form->populate($row);        }else{            $this->_helper->redirector->gotoSimpleAndExit('index', 'edit', 'configure');        }        $this->view->message = nl2br(implode(PHP_EOL, $this->_helper->FlashMessenger->getMessages()));        /**         * Update Info         */        if( $this->getRequest()->isPost() === true ){            if( $form->isValid($this->getRequest()->getPost()) === true ){                $qry->setParams($form->getValues());                $qry->updateUserInfoQry();                $this->_helper->FlashMessenger('Cuenta actualizada el ' . date('Y-m-d g:i:s a'));                $this->_helper->redirector->gotoSimpleAndExit('index', 'edit', 'configure');            }        }    }    public function deleteAction()    {        $this->_helper->layout()->disableLayout();        $this->_helper->viewRenderer->setNoRender(true);        $qry = new Configure_Model_Queries();        $qry->setParams( array( 'users_id' => $this->getRequest()->getQuery('users_id'), ));        $qry->deleteUserQry();        $this->_helper->FlashMessenger('Cuenta eliminada el ' . date('Y-m-d g:i:s a'));        $this->_helper->redirector->gotoSimpleAndExit('index', 'edit', 'configure');    }}